<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Animated Sprites - MonoGame.Extended</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../..">MonoGame.Extended</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="../..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../../installation/">NuGet</a>
</li>
                            
<li >
    <a href="../../NuGet-Pre-Release/">NuGet Pre-Release</a>
</li>
                            
<li >
    <a href="../../Building-from-Source/">Building from Source</a>
</li>
                            
<li >
    <a href="../../Build-MonoGame-PCL/">Building the MonoGame PCL</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Docs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">Core</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../../MonoGame.Extended/BitmapFonts/">BitmapFonts</a>
</li>
            
<li >
    <a href="../../MonoGame.Extended/Camera2D/">Camera2D</a>
</li>
            
<li >
    <a href="../../MonoGame.Extended/Collections/">Collections</a>
</li>
            
<li >
    <a href="../../MonoGame.Extended/Object-Pooling/">Object Pooling</a>
</li>
            
<li >
    <a href="../../MonoGame.Extended/Screens/">Screens</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Animation</a>
    <ul class="dropdown-menu">
            
<li class="active">
    <a href="./">Animated Sprites</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li >
                        <a href="../../Community-and-Support/">Support</a>
                    </li>
                    <li >
                        <a href="../../Showcase/">Showcase</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../../MonoGame.Extended/Screens/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../../Community-and-Support/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/craftworkgames/MonoGame.Extended">
                                <i class="fa fa-github"></i>GitHub
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#starting-choosing-what-to-animate">Starting choosing what to animate</a></li>
        <li class="main "><a href="#construct-the-move">Construct the move</a></li>
        <li class="main "><a href="#drawing-the-final-result">Drawing the final result</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>With Textures and Sprites we can import Sprite Sheets, collections of maped images paced on one same file, and draw them on screen through SpriteBatch like any other object on our game. Lets see how add "movement" on these sprites using the SpriteSheetAnimation classes from Animations.SpriteSheets package.</p>
<h1 id="starting-choosing-what-to-animate">Starting choosing what to animate</h1>
<p>So lets add a simple character and some sprites to simulate movement, to import the resources using the pipeline we will need a pair of files here:
The Image file with all the sprites combined in a Map</p>
<p><img alt="" src="http://i.imgur.com/gVfkoF2.png" /></p>
<p>And an xml describing the coordenates and size of each sprite within the map:</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;XnaContent&gt;
    &lt;Asset Type=&quot;System.Collections.Generic.Dictionary[System.String, Microsoft.Xna.Framework.Rectangle]&quot;&gt;
    &lt;Item&gt;&lt;Key&gt;33155_001.png&lt;/Key&gt;&lt;Value&gt;34 401 31 32&lt;/Value&gt;&lt;/Item&gt;
    &lt;Item&gt;&lt;Key&gt;33155_002.png&lt;/Key&gt;&lt;Value&gt;370 349 17 29&lt;/Value&gt;&lt;/Item&gt;
    &lt;/Asset&gt;
&lt;/XnaContent&gt;
</code></pre>

<p>Hopefully there are a couple of programs to create shis files. Once you have those just throw them inside the Content Pipeline</p>
<p><img alt="" src="http://i.imgur.com/hEhyOKh.png" /></p>
<h1 id="construct-the-move">Construct the move</h1>
<p>Lets initiate our pixels using the Texture imported and then we will use the map to limit and access easily each image.</p>
<pre><code class="c#">var characterTexture = content.Load&lt;Texture2D&gt;(&quot;Sprites/kunio&quot;);
var characterMap = content.Load&lt;Dictionary&lt;string, Rectangle&gt;&gt;(&quot;Sprites/kunioMap&quot;);
var characterAtlas = new TextureAtlas(&quot;kunio&quot;, characterTexture, characterMap);
var characterAnimationFactory = new SpriteSheetAnimationFactory(characterAtlas);

characterAnimationFactory.Add(&quot;idle&quot;, new SpriteSheetAnimationData(new[] { 0, 1 }, isLooping: true));

var characterSpriteAnimation = new AnimatedSprite(characterAnimationFactory,&quot;idle&quot;);
</code></pre>

<p>Using a SpriteSheetAnimationFactory we can create Animations and set index of frames included. And passing this to AnimatedSprite we can name an autoplay animation. "idle" is the only one we have for now.</p>
<h1 id="drawing-the-final-result">Drawing the final result</h1>
<p>On each update you will need to call the animation to make the transitions between frames.</p>
<pre><code class="c#">characterSpriteAnimation.Update(deltaSeconds);
</code></pre>

<p>And finally on Draw the SpriteBatch will do the rest</p>
<pre><code class="c#">spriteBatch.Begin();
spriteBatch.Draw(characterSpriteAnimation);
spriteBatch.End();
</code></pre>

<p><img alt="" src="http://i.imgur.com/MhEocnH.gif" /></p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
