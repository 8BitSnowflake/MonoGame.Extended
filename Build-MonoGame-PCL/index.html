<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Building the MonoGame PCL - MonoGame.Extended</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Building the MonoGame PCL";
    var mkdocs_page_input_path = "Build-MonoGame-PCL.md";
    var mkdocs_page_url = "/Build-MonoGame-PCL/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> MonoGame.Extended</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Installation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../installation/">NuGet</a>
                </li>
                <li class="">
                    
    <a class="" href="../NuGet-Pre-Release/">NuGet Pre-Release</a>
                </li>
                <li class="">
                    
    <a class="" href="../Building-from-Source/">Building from Source</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Building the MonoGame PCL</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#building-the-monogame-pcl">Building the MonoGame PCL</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#install-tools">Install Tools</a></li>
        
            <li><a class="toctree-l4" href="#get-monogame-source">Get MonoGame Source</a></li>
        
            <li><a class="toctree-l4" href="#build-monogame">Build MonoGame</a></li>
        
            <li><a class="toctree-l4" href="#piranha-binary-into-pcl">"Piranha" Binary into PCL</a></li>
        
        </ul>
    

    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Docs</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Core</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../MonoGame.Extended/BitmapFonts/">BitmapFonts</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../MonoGame.Extended/Camera2D/">Camera2D</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../MonoGame.Extended/Content/">Content Extensions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../MonoGame.Extended/Collections/">Collections</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../MonoGame.Extended/Object-Pooling/">Object Pooling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../MonoGame.Extended/Serialization/">Serialization</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../MonoGame.Extended/Screens/">Screens</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Animation</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../MonoGame.Extended.Animation/Animated-Sprites/">Animated Sprites</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Community-and-Support/">Support</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Showcase/">Showcase</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">MonoGame.Extended</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Installation &raquo;</li>
        
      
    
    <li>Building the MonoGame PCL</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/craftworkgames/MonoGame.Extended/edit/master/docs/Build-MonoGame-PCL.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="building-the-monogame-pcl">Building the MonoGame PCL</h1>
<p>This guide is about building the MonoGame <a href="https://msdn.microsoft.com/en-us/library/gg597391">Portable Class Library</a> (PCL) found in the <a href="https://github.com/craftworkgames/MonoGame.Extended/tree/develop/Dependencies">Dependencies folder</a> of the project.</p>
<p><strong>Note</strong>: This is NOT a guide about building MonoGame.Extended from source. You won't need this guide unless you're trying to update the dependencies.</p>
<p>One of the challenges with using MonoGame is getting your project set up so that you can separate platform-specific and platform-independent code. One way, which we are using with MonoGame.Extended is to compile against a PCL (<a href="https://msdn.microsoft.com/en-us/library/gg597391">Portable Class Library</a>). Instead of creating a platform specific binary of MonoGame.Extended for each platform, a cross-platform library is used and the platform specific code is substituted in later. A PCL is created through a certain set of tools such as <a href="https://www.visualstudio.com">Visual Studio</a> on Windows, <a href="https://xamarin.com/studio">Xamarin Studio</a> on Windows and Mac, or <a href="http://www.monodevelop.com">MonoDevelop</a> on Windows, Mac and Linux. Since PCLs are designed to be cross-platform they can be created with one toolchain and used through a different toolchain.</p>
<p>With MonoGame, making a PCL isn't so easy since a large amount of platform-specific code is mixed in with other code, so you can't (at the moment) make a PCL of MonoGame directly. There are a few other issues as well, but I won't go into those. The solution to this is to use a tool to scrape all of the platform-specific implementation details from a specific MonoGame platform library. It doesn't really matter if it's the WindowsGL platform version that is used for this, but it's recommended.</p>
<h2 id="install-tools">Install Tools</h2>
<p>The first step in generating the PCL is to install the required tools. If you have Visual Studio, Xamarin Studio, you already have the tools. For Linux, you have to install the tools from Mono. To install Mono on a specific Linux distribution follow <a href="http://www.mono-project.com/docs/getting-started/install/linux/">their directions on the Mono website</a>. The important packages to install are <code>mono-complete</code>, which installs the complete mono runtime and development tools (including the tools in <code>mono-devel</code> if I remember correctly), and also the <code>referenceassemblies-pcl</code> package, which installs tools and references required for PCL generation and usage.</p>
<h2 id="get-monogame-source">Get MonoGame Source</h2>
<p>Next, clone down the copy of <a href="https://github.com/mono/MonoGame">MonoGame from GitHub</a> that you want to generate a PCL for. Remember that a PCL that is generated will probably only be usable with binaries made from that exact same commit. </p>
<h2 id="build-monogame">Build MonoGame</h2>
<p>After you have cloned the repository, follow the MonoGame build instructions and use Protobuild to generate the set of <code>.sln</code> files and <code>.csproj</code> files for your platform. Open up the solution, then compile it.</p>
<h2 id="piranha-binary-into-pcl">"Piranha" Binary into PCL</h2>
<p>Finally, you need a copy of @Ark-kun's <a href="https://github.com/Ark-kun/Piranha">Piranha tool, which "chews" binaries to make them into PCLs</a>. Download a copy of his repository from GitHub, then build it. Navigate to where Piranha is built and open up command prompt if you are on Windows (PROTIP: shift-right-click on the Explorer background and select "Open command window here"), or Terminal if you are on Mac or Linux (MAC USERS PROTIP: type "cd" into terminal then drag and drop the folder into the terminal window and hit return). Enter the following command where <code>PATH_TO_MONOGAME_FRAMEWORK_DLL</code> is the path to the target <code>MonoGame.Framework.dll</code>:</p>
<p>Windows Users:
<code>Piranha.exe make-portable-skeleton -p ".NETPortable,Version=v4.5,Profile=Profile111" -i "PATH_TO_MONOGAME_FRAMEWORK_DLL" -o MonoGame.Framework.dll</code></p>
<p>Mac and Linux Users:
<code>mono Piranha.exe make-portable-skeleton -p ".NETPortable,Version=v4.5,Profile=Profile111" -i "PATH_TO_MONOGAME_FRAMEWORK_DLL" -o MonoGame.Framework.dll</code></p>
<p>Note that the .NET framework portable profile might need to be changed to match your project.</p>
<p>Piranha should of completed successfully and generated a portable <code>MonoGame.Framework.dll</code>.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../MonoGame.Extended/BitmapFonts/" class="btn btn-neutral float-right" title="BitmapFonts">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Building-from-Source/" class="btn btn-neutral" title="Building from Source"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/craftworkgames/MonoGame.Extended/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Building-from-Source/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../MonoGame.Extended/BitmapFonts/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
