<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Building the MonoGame PCL - MonoGame.Extended</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
	
	<script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">MonoGame.Extended</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../installation/">NuGet</a>
</li>
                            
<li >
    <a href="../NuGet-Pre-Release/">NuGet Pre-Release</a>
</li>
                            
<li >
    <a href="../Building-from-Source/">Building from Source</a>
</li>
                            
<li class="active">
    <a href="./">Building the MonoGame PCL</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Docs <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
  <li class="dropdown-submenu">
    <a href="#">Core</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../MonoGame.Extended/BitmapFonts/">BitmapFonts</a>
</li>
            
<li >
    <a href="../MonoGame.Extended/Camera2D/">Camera2D</a>
</li>
            
<li >
    <a href="../MonoGame.Extended/Collections/">Collections</a>
</li>
            
<li >
    <a href="../MonoGame.Extended/Object-Pooling/">Object Pooling</a>
</li>
            
<li >
    <a href="../MonoGame.Extended/Screens/">Screens</a>
</li>
    </ul>
  </li>
                            
  <li class="dropdown-submenu">
    <a href="#">Animation</a>
    <ul class="dropdown-menu">
            
<li >
    <a href="../MonoGame.Extended.Animation/Animated-Sprites/">Animated Sprites</a>
</li>
    </ul>
  </li>
                        </ul>
                    </li>
                    <li >
                        <a href="../Community-and-Support/">Support</a>
                    </li>
                    <li >
                        <a href="../Showcase/">Showcase</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../Building-from-Source/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../MonoGame.Extended/BitmapFonts/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/craftworkgames/MonoGame.Extended">
                                <i class="fa fa-github"></i>GitHub
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#building-the-monogame-pcl">Building the MonoGame PCL</a></li>
            <li><a href="#install-tools">Install Tools</a></li>
            <li><a href="#get-monogame-source">Get MonoGame Source</a></li>
            <li><a href="#build-monogame">Build MonoGame</a></li>
            <li><a href="#piranha-binary-into-pcl">"Piranha" Binary into PCL</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="building-the-monogame-pcl">Building the MonoGame PCL</h1>
<p>This guide is about building the MonoGame <a href="https://msdn.microsoft.com/en-us/library/gg597391">Portable Class Library</a> (PCL) found in the <a href="https://github.com/craftworkgames/MonoGame.Extended/tree/develop/Dependencies">Dependencies folder</a> of the project.</p>
<p><strong>Note</strong>: This is NOT a guide about building MonoGame.Extended from source. You won't need this guide unless you're trying to update the dependencies.</p>
<p>One of the challenges with using MonoGame is getting your project set up so that you can separate platform-specific and platform-independent code. One way, which we are using with MonoGame.Extended is to compile against a PCL (<a href="https://msdn.microsoft.com/en-us/library/gg597391">Portable Class Library</a>). Instead of creating a platform specific binary of MonoGame.Extended for each platform, a cross-platform library is used and the platform specific code is substituted in later. A PCL is created through a certain set of tools such as <a href="https://www.visualstudio.com">Visual Studio</a> on Windows, <a href="https://xamarin.com/studio">Xamarin Studio</a> on Windows and Mac, or <a href="http://www.monodevelop.com">MonoDevelop</a> on Windows, Mac and Linux. Since PCLs are designed to be cross-platform they can be created with one toolchain and used through a different toolchain.</p>
<p>With MonoGame, making a PCL isn't so easy since a large amount of platform-specific code is mixed in with other code, so you can't (at the moment) make a PCL of MonoGame directly. There are a few other issues as well, but I won't go into those. The solution to this is to use a tool to scrape all of the platform-specific implementation details from a specific MonoGame platform library. It doesn't really matter if it's the WindowsGL platform version that is used for this, but it's recommended.</p>
<h2 id="install-tools">Install Tools</h2>
<p>The first step in generating the PCL is to install the required tools. If you have Visual Studio, Xamarin Studio, you already have the tools. For Linux, you have to install the tools from Mono. To install Mono on a specific Linux distribution follow <a href="http://www.mono-project.com/docs/getting-started/install/linux/">their directions on the Mono website</a>. The important packages to install are <code>mono-complete</code>, which installs the complete mono runtime and development tools (including the tools in <code>mono-devel</code> if I remember correctly), and also the <code>referenceassemblies-pcl</code> package, which installs tools and references required for PCL generation and usage.</p>
<h2 id="get-monogame-source">Get MonoGame Source</h2>
<p>Next, clone down the copy of <a href="https://github.com/mono/MonoGame">MonoGame from GitHub</a> that you want to generate a PCL for. Remember that a PCL that is generated will probably only be usable with binaries made from that exact same commit. </p>
<h2 id="build-monogame">Build MonoGame</h2>
<p>After you have cloned the repository, follow the MonoGame build instructions and use Protobuild to generate the set of <code>.sln</code> files and <code>.csproj</code> files for your platform. Open up the solution, then compile it.</p>
<h2 id="piranha-binary-into-pcl">"Piranha" Binary into PCL</h2>
<p>Finally, you need a copy of @Ark-kun's <a href="https://github.com/Ark-kun/Piranha">Piranha tool, which "chews" binaries to make them into PCLs</a>. Download a copy of his repository from GitHub, then build it. Navigate to where Piranha is built and open up command prompt if you are on Windows (PROTIP: shift-right-click on the Explorer background and select "Open command window here"), or Terminal if you are on Mac or Linux (MAC USERS PROTIP: type "cd" into terminal then drag and drop the folder into the terminal window and hit return). Enter the following command where <code>PATH_TO_MONOGAME_FRAMEWORK_DLL</code> is the path to the target <code>MonoGame.Framework.dll</code>:</p>
<p>Windows Users:
<code>Piranha.exe make-portable-skeleton -p ".NETPortable,Version=v4.5,Profile=Profile111" -i "PATH_TO_MONOGAME_FRAMEWORK_DLL" -o MonoGame.Framework.dll</code></p>
<p>Mac and Linux Users:
<code>mono Piranha.exe make-portable-skeleton -p ".NETPortable,Version=v4.5,Profile=Profile111" -i "PATH_TO_MONOGAME_FRAMEWORK_DLL" -o MonoGame.Framework.dll</code></p>
<p>Note that the .NET framework portable profile might need to be changed to match your project.</p>
<p>Piranha should of completed successfully and generated a portable <code>MonoGame.Framework.dll</code>.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script data-main="../mkdocs/js/search.js" src="../mkdocs/js/require.js"></script>
        <script src="../js/base.js"></script><div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
